import React, { useState } from 'react';
import axios from 'axios';
import StyledForm from '../../styled/styled-form'
import StyledInput from '../../styled/styled-input'
import StyledButton from '../../styled/styled-button'

const defaultValues = {
  name: '',
  username: '',
  email: '',
  password: '',
  confirmPassword: ''
}

const defaultError = {
  errorStatus: false,
  errorValue: '',
  message: ''
}

const UserRegister = () => {

  const [name, setName] = useState('')
  const [username, setUsername] = useState('')
  const [email, setEmail] = useState('')
  const [password, setPassword] = useState('')
  const [confirmPassword, setConfirmPassword] = useState('')

  const [nameError, setNameError] = useState('');
  const [usernameError, setUsernameError] = useState('');
  const [emailError, setEmailError] = useState('');
  const [passwordError, setPasswordError] = useState('');
  const [confirmPasswordError, setConfirmPasswordError] = useState('');




  const handleFormNameChange = ({target: {value}}) => {
    setName(value)
    console.log(name);
  }

  const handleFormUsernameChange = ({target: {value}}) => {
    setUsername(value)
    console.log(username);
  }

  const handleFormEmailChange = ({target: {value}}) => {
    setEmail(value)
    console.log(email);
  }

  const handleFormPasswordChange = ({target: {value}}) => {
    setPassword(value)
    console.log(password);
  }

  const handleFormPasswordConfirmationChange = ({target: {value}}) => {
    setConfirmPassword(value)
    console.log(confirmPassword);
  }

  const verifyName = () => {
    const regexName = /\s/;
    return !regexName.test(name);
  }

  const verifyUsername = () => {
    const regexName = /\s/;
    return !regexName.test(name);
  }

  const verifyEmail = () => {
    const regexName = /\s/;
    return !regexName.test(name);
  }

  const verifyPassword = () => {
    const regexName = /\s/;
    return !regexName.test(name);
  }

  const verifyConfirmPassword = () => {
    const regexName = /\s/;
    return !regexName.test(name);
  }

  const verify = (e) => {
    verifyName &&
    verifyUsername &&
    verifyEmail &&
    verifyEmail &&
    verifyPassword &&
    verifyConfirmPassword &&

    onFinish();
  }

  

  const onFinish = async event => {

    const response = await axios.post('https://ka-users-api.herokuapp.com/users', {
      "headers": { 'content-type': 'application/json' },
      "user": {
        "name": name,
        "user": username,
        "email": email,
        "password": password,
        "password_confirmation": confirmPassword
      }
    }).catch((err) => console.log(err));
  };

  return (



    <StyledForm>
      <label for="name" >*Name: </label>
      <StyledInput name={name} onChange={""} value={""} />
      <input type="text" name={name} onChange={handleFormNameChange} value={name} />

      <label for="username" >*Username: </label>
      <StyledInput name={name} onChange={""} value={""}  />
      <input type="text" name={name} onChange={handleFormUsernameChange} value={username} />

      <label for="email" >*Email: </label>
      <StyledInput name={name} onChange={""} value={""}  />
      <input type="text" name={name} onChange={handleFormEmailChange} value={email} />

      <label for="password" >*Password: </label>
      <StyledInput name={name} onChange={""} value={""}  />

      <label for="conirmation" >*Password Confirmation: </label>
      <StyledInput name={name} onChange={""} value={""}  />
      
      <button onClick={(e) => {e.preventDefault(); verify();}} >Submit</button>

      {/* <div className={className}>
      <h1>Register</h1>
      <label for="name" >Name: </label>
      <input name={name} onChange={handleChange} value={value} />
      {error && <span>{message}</span>} <br />
      <label for="username" >Username: </label>
      <input name={name} onChange={handleChange} value={value} />
      {error && <span>{message}</span>} <br />
      <label for="email" >Email: </label>
      <input name={name} onChange={handleChange} value={value} />
      {error && <span>{message}</span>} <br />
      <label for="password" >Password: </label>
      <input name={name} onChange={handleChange} value={value} />
      {error && <span>{message}</span>} <br />
      <label for="conirmation" >Password Confirmation: </label>
      <input name={name} onChange={handleChange} value={value} />
      {error && <span>{message}</span>}
      <button onClick={(e) => e.preventDefault()} >Submit</button>
      </div> */}

    </StyledForm>
    

  )
}

export default UserRegister;

